import React from 'react';
import { VitalData } from '@loglib/types/tracker';

type Config = {
    id: string;
    autoTrack?: boolean;
    webVitals?: boolean;
    pageAnalytics?: boolean;
    customEvents?: boolean;
    debug?: boolean;
    env?: "auto" | "prod" | "dev";
    postInterval?: number;
    host?: string | string[];
    consent?: "granted" | "denied";
    useServerPath?: boolean;
    useBeacon?: boolean;
};
type ServerEvents = {
    id: string;
    eventName: string;
    eventType: string;
    payload: Record<string, string>;
    page: string;
};
interface Internal {
    eventsBank: ServerEvents[];
    startTime: number;
    currentUrl: string;
    currentRef: string;
    timeOnPage: number;
    pageId: string;
    sessionId: string;
    intervals: NodeJS.Timer[];
    sdkVersion: string;
    vitalQueue: Set<VitalData>;
}
declare global {
    interface Window {
        llc: Config;
        lli: Internal;
        loglib: {
            record: (config: Partial<Config>) => void;
            track: (name: string, payload?: Record<string, any>) => void;
            identify: (payload: Record<string, string>) => void;
            setConsent: (concent: "granted" | "denied") => void;
        };
    }
}

declare function record(config?: Partial<Config>): void;

declare const loglib: {
    record: typeof record;
    track: (name: string, payload?: Record<string, any>) => void;
    identify: (payload: Record<string, string>) => void;
    setConsent: (concent: "granted" | "denied") => void;
};

declare global {
    interface Window {
        llc: NonNullable<Config>;
        lli: Internal;
        logLib: typeof loglib;
    }
}
declare function LogLib({ config }: {
    config: Config;
}): any;
type TrackViewProps = {
    name: string;
    payload?: Record<string, string>;
    children: React.ReactNode;
};
declare function TrackView({ name, payload, children }: TrackViewProps): React.ReactElement<any, string | React.JSXElementConstructor<any>>;
declare function TrackClick({ name, payload, children }: TrackViewProps): React.ReactElement<any, string | React.JSXElementConstructor<any>>;

export { TrackClick, TrackView, LogLib as default };
